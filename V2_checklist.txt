F1-Project — v2 Implementation Checklist

Goal: Improve realism by mapping F125-style stats to per-driver attributes, adding seeded randomness, and using a richer performance model.

1) Map F125 stats -> driver attributes
   [x] Fields (int 0-100 in JSON): overall_rating, pace, race, awareness, experience
   [x] Normalize to 0.0–1.0 when used: norm = value / 100

2) Update `src/f1sim/models/driver.py`
   [x] Add attributes: overall_rating, pace, race, awareness, experience
   [x] Add convenience properties: normalized versions and a `consistency` property
   [x]** Keep `points` and `wins`

3) Add seedable RNG
   - Use `random.Random(seed)` in `Race` or accept a `seed`/`rng` from `Season`
   - Ensure deterministic results when seed provided

4) Race performance formula (per driver)
   - base = overall_rating_norm
   - qualifying_speed = base * (0.9 + 0.2 * pace_norm)
   - race_pace = base * (0.9 + 0.15 * race_norm)
   - consistency = 0.5 + 0.5 * (0.6 * experience_norm + 0.4 * awareness_norm)
   - sigma = (1 - consistency) * 0.12
   - performance = race_pace + rng.gauss(0, sigma)
   - mistake_chance = (1 - awareness_norm) * 0.12
   - If a mistake occurs, apply a penalty (e.g., -0.25 to performance)

5) Circuit influence
   - Use `Circuit.difficulty` to scale sigma (harder circuits increase variability)
   - Example: sigma *= circuit.difficulty

6) Implementation order
   - Add fields to `Driver` and update JSON loader mapping
   - Add `seed` support in `Season`/`Race`
   - Replace noise in `Race.simulate_race()` with the new formula
   - Update `RaceScorer` if needed

7) Tests
   - Add a test that runs a small race with a fixed seed and asserts expected order
   - Add tests for `Driver` normalization and `consistency`

8) CLI & docs
   - Update `README.md` with v2 notes and usage (how to seed runs)
   - Optionally add `--seed` CLI flag to `main.py`

Quick commands
   - Run interactive CLI: python main.py

Next action (suggested): implement driver fields and loader changes, then update `Race.simulate_race()`.

Created by: GitHub Copilot
Date: 2026-01-07
